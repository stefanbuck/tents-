{"repository":{"pullRequests":{"edges":[{"cursor":"Y3Vyc29yOnYyOpHOHvjyhw==","node":{"__typename":"PullRequest","additions":613,"authorAssociation":"NONE","bodyHTML":"\n\n<h2>Summary</h2>\n\n<p>This is part of the fixes for this issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"370695633\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/7185\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/7185/hovercard\" href=\"https://github.com/facebook/jest/issues/7185\">#7185</a> , removal of coveragePathIgnorePattern, this is a step i took to restructure the coverage to meet this preference <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"370695633\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/7185\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/7185/hovercard?comment_id=474978713&amp;comment_type=issue_comment\" href=\"https://github.com/facebook/jest/issues/7185#issuecomment-474978713\">#7185 (comment)</a>, later <code>collectCoverageFrom</code>  will be changed to maybe <code>coverage.paths</code></p>\n<h2>Test plan</h2>\n\n<p>Existing tests.</p>","createdAt":"2020-11-12T05:31:10Z","deletions":143,"merged":false,"mergedAt":null,"number":10807,"state":"OPEN","title":"remove coveragePathIgnorePattern use `Negated Pattern on collectCoverageFrom` instead","url":"https://github.com/facebook/jest/pull/10807","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"anje123","avatarUrl":"https://avatars3.githubusercontent.com/u/31329500?u=4e27eb4668865a1814e02f511d0ef41767d99292&v=4","url":"https://github.com/anje123","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHuqYfw==","node":{"__typename":"PullRequest","additions":131,"authorAssociation":"NONE","bodyHTML":"<h2>Summary</h2>\n<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #10451.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"686140554\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10451\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/10451/hovercard\" href=\"https://github.com/facebook/jest/issues/10451\">#10451</a><br>\nFixes the below issues in packages <code>jest-circus</code> &amp; <code>jest-jasmine2</code>.</p>\n<ol>\n<li><code>beforeAll</code> block runs even if it is inside a describe.skip block when the it block contains <code>tests</code> marked as <code>todo</code> or <code>only</code></li>\n<li>Tests run even if it is inside a <code>describe.skip</code> when the <code>tests</code> are marked as <code>todo</code> or <code>only</code></li>\n</ol>\n<h2>Test plan</h2>\n<p><code>e2e/__tests__/skipBeforeAfterAll.test.ts</code><br>\n<code>packages/jest-circus/src/__tests__/afterAll.test.ts</code></p>","createdAt":"2020-11-10T18:41:12Z","deletions":21,"merged":false,"mergedAt":null,"number":10806,"state":"OPEN","title":"#10451 - beforeAll block & tests marked with only & todo runs even if it is inside a describe.skip block","url":"https://github.com/facebook/jest/pull/10806","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"sarathps93","avatarUrl":"https://avatars1.githubusercontent.com/u/44030894?u=a03e3eea0fc122a66142420082086363563a2cce&v=4","url":"https://github.com/sarathps93","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHulI_Q==","node":{"__typename":"PullRequest","additions":707,"authorAssociation":"CONTRIBUTOR","bodyHTML":"\n\n<h2>Summary</h2>\n\n<h2>Test plan</h2>\n","createdAt":"2020-11-10T16:19:38Z","deletions":63,"merged":false,"mergedAt":null,"number":10805,"state":"CLOSED","title":"Only correct","url":"https://github.com/facebook/jest/pull/10805","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"ychi","avatarUrl":"https://avatars2.githubusercontent.com/u/5203395?u=b562daf0cacaba20a774dbe1ce80aef8461f537c&v=4","url":"https://github.com/ychi","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHug2wQ==","node":{"__typename":"PullRequest","additions":1,"authorAssociation":"NONE","bodyHTML":"<p>add <code>watchAll</code> to valid config to avoid validation warning (Unknown option):</p>\n<pre lang=\"‚óè\" data-meta=\"Validation Warning:\"><code>\n  Unknown option \"watchAll\" with value true was found.\n  This is probably a typing mistake. Fixing it will remove this message.\n\n  Configuration Documentation:\n  https://jestjs.io/docs/configuration.html\n</code></pre>","createdAt":"2020-11-10T14:38:07Z","deletions":0,"merged":false,"mergedAt":null,"number":10804,"state":"OPEN","title":"add `watchAll` to Valid config","url":"https://github.com/facebook/jest/pull/10804","comments":{"totalCount":2},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"guysaar223","avatarUrl":"https://avatars1.githubusercontent.com/u/38220324?u=e7e66ed0628e73a826a480c517f87e2341532792&v=4","url":"https://github.com/guysaar223","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHuUORA==","node":{"__typename":"PullRequest","additions":42,"authorAssociation":"CONTRIBUTOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>Placing React Native styles after component improves readability also this the way <a href=\"https://reactnative.dev/\" rel=\"nofollow\">React Native</a> official documentation declare styles on their components.  Let me know your thoughts on this Thanks!</p>\n<h2>Test plan</h2>\n","createdAt":"2020-11-10T08:53:57Z","deletions":36,"merged":true,"mergedAt":"2020-11-10T11:47:42Z","number":10802,"state":"MERGED","title":"chore(docs): update TutorialReactNative.md","url":"https://github.com/facebook/jest/pull/10802","comments":{"totalCount":4},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"llauderesv","avatarUrl":"https://avatars1.githubusercontent.com/u/20419473?u=1d87e976d4b614c1c9f0bca0579c31dce69d0740&v=4","url":"https://github.com/llauderesv","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHtsjkA==","node":{"__typename":"PullRequest","additions":142,"authorAssociation":"NONE","bodyHTML":"\n\n<h2>Summary</h2>\n\n<h2>Test plan</h2>\n","createdAt":"2020-11-09T11:02:32Z","deletions":2,"merged":false,"mergedAt":null,"number":10798,"state":"OPEN","title":"chore: Adding warn when have multiple configs","url":"https://github.com/facebook/jest/pull/10798","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"mgm793","avatarUrl":"https://avatars1.githubusercontent.com/u/11296854?u=cdb86717c700572fe6dea4df00525f63ad9ded84&v=4","url":"https://github.com/mgm793","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHtpWhA==","node":{"__typename":"PullRequest","additions":15,"authorAssociation":"NONE","bodyHTML":"\n\n<h2>Summary</h2>\n<p>this is part of the fixes for this issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"370695633\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/7185\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/7185/hovercard\" href=\"https://github.com/facebook/jest/issues/7185\">#7185</a> , removal of testURL</p>\n\n<h2>Test plan</h2>\n<p>Existing tests.</p>\n","createdAt":"2020-11-09T09:39:26Z","deletions":41,"merged":false,"mergedAt":null,"number":10797,"state":"OPEN","title":" remove  `testURL` option  use `can be set in \"testEnvironmentOptions`","url":"https://github.com/facebook/jest/pull/10797","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"anje123","avatarUrl":"https://avatars3.githubusercontent.com/u/31329500?u=4e27eb4668865a1814e02f511d0ef41767d99292&v=4","url":"https://github.com/anje123","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHtTlrA==","node":{"__typename":"PullRequest","additions":72,"authorAssociation":"NONE","bodyHTML":"<h2>Summary</h2>\n<p>This attempts to address <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"677925408\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10398\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/10398/hovercard\" href=\"https://github.com/facebook/jest/issues/10398\">#10398</a> ‚Äì trying to mock modules with different casing than the actual file prevents the mock from working, but only on case sensitive file systems.</p>\n<p>After resolving the module, there's a check for whether the casing is different, in which case we do <code>console.warn()</code> to let the developer know about this.</p>\n<p>I didn't want to outright fail the resolution, that sounds too aggressive to me and would cause issues for developers. I expect it's enough to log a warning.</p>\n<p>I would like a suggestion on how to get the warning to the reporter! Then I can put some color on it as well, it isn't very noticeable at the moment (see screenshot below).</p>\n<h2>Test plan</h2>\n<p>My basic setup for testing it out:</p>\n<p>index.js:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">function</span> <span class=\"pl-en\">sum</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">a</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">b</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-k\">return</span> <span class=\"pl-s1\">a</span> <span class=\"pl-c1\">+</span> <span class=\"pl-s1\">b</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span>\n\n<span class=\"pl-smi\">module</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">exports</span> <span class=\"pl-c1\">=</span> <span class=\"pl-s1\">sum</span><span class=\"pl-kos\">;</span></pre></div>\n<p>index.test.js:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">sum</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">require</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"./index\"</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-en\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"add 1 and 2 to make 3\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-s1\">jest</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">mock</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"./INDEX\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span> <span class=\"pl-c1\">get</span>: <span class=\"pl-s1\">jest</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">fn</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-c1\">1000</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> <span class=\"pl-c\">// Note INDEX vs index</span>\n  <span class=\"pl-en\">expect</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">sum</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">2</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toBe</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">3</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<p>Configure <code>package.json</code>:</p>\n<div class=\"highlight highlight-source-json\"><pre><span class=\"pl-s\"><span class=\"pl-pds\">\"</span>scripts<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>jest<span class=\"pl-pds\">\"</span></span>\n}</pre></div>\n<p><code>yarn link</code> the <code>jest-cli</code> package</p>\n<p><code>yarn link jest-cli</code> in my test</p>\n<p>Then in shell:</p>\n<div class=\"highlight highlight-source-shell\"><pre>$ <span class=\"pl-c1\">cd</span> path/to/jest/packages/jest-cli\n\n$ yarn link\n\n$ <span class=\"pl-c1\">cd</span> path/to/JestTest\n\n$ yarn link jest-cli\n\n$ yarn <span class=\"pl-c1\">test</span></pre></div>\n<p>The output:<br>\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/1223518/98459810-4bfd2d00-216c-11eb-9144-da8a0f3d2f22.png\"><img src=\"https://user-images.githubusercontent.com/1223518/98459810-4bfd2d00-216c-11eb-9144-da8a0f3d2f22.png\" alt=\"image\" style=\"max-width:100%;\"></a></p>","createdAt":"2020-11-08T08:00:16Z","deletions":3,"merged":false,"mergedAt":null,"number":10794,"state":"OPEN","title":"fix: warn if a module has a different casing in the file system","url":"https://github.com/facebook/jest/pull/10794","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"xavierstampslafont","avatarUrl":"https://avatars0.githubusercontent.com/u/1223518?u=a64d319b5bec0eff161183ba9d2141d73a79902a&v=4","url":"https://github.com/xavierstampslafont","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHtJubw==","node":{"__typename":"PullRequest","additions":32,"authorAssociation":"CONTRIBUTOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p><span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #10760.\">Fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"733902622\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10760\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/10760/hovercard\" href=\"https://github.com/facebook/jest/issues/10760\">#10760</a></p>\n\n<h2>Test plan</h2>\n","createdAt":"2020-11-07T08:33:43Z","deletions":0,"merged":true,"mergedAt":"2020-11-09T09:57:39Z","number":10793,"state":"MERGED","title":"docs: add missing \"--roots\" options","url":"https://github.com/facebook/jest/pull/10793","comments":{"totalCount":3},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"vbabak","avatarUrl":"https://avatars0.githubusercontent.com/u/4463845?u=a121fd1ed9f3de137710e78fd78fb640d2eb6dbd&v=4","url":"https://github.com/vbabak","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHscdZg==","node":{"__typename":"PullRequest","additions":2,"authorAssociation":"COLLABORATOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>Have this on my todo list for too long now :D Part of <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"370695633\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/7185\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/7185/hovercard\" href=\"https://github.com/facebook/jest/issues/7185\">#7185</a></p>\n<h2>Test plan</h2>\n<p>Existing tests.</p>","createdAt":"2020-11-05T22:00:54Z","deletions":33,"merged":true,"mergedAt":"2020-11-06T14:31:20Z","number":10787,"state":"MERGED","title":"chore(breaking): remove undocumented `enabledTestsMap` config","url":"https://github.com/facebook/jest/pull/10787","comments":{"totalCount":2},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"thymikee","avatarUrl":"https://avatars0.githubusercontent.com/u/5106466?u=7383112415151d47ef1f0c6178f322567d7d6c8c&v=4","url":"https://github.com/thymikee","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHr-mSQ==","node":{"__typename":"PullRequest","additions":110,"authorAssociation":"CONTRIBUTOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>Upon reading the documentation about the <code>@jest-environment</code> annotation, I had to find out how to use a custom class on another website, so I thought I'd add what I learned to the docs for the next developer looking for the same answer.</p>\n<p>The docs explain how to use <code>node</code> or <code>jsdom</code>, but not how to refer to your own class in the annotation. I added some text and a code example, and added the example to an existing code snippet.</p>\n<p>(I completed the CLA.)</p>","createdAt":"2020-11-05T08:12:17Z","deletions":0,"merged":true,"mergedAt":"2020-11-05T09:49:28Z","number":10783,"state":"MERGED","title":"Added explanation on how to use custom @jest-environment to docs","url":"https://github.com/facebook/jest/pull/10783","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"Breuls","avatarUrl":"https://avatars2.githubusercontent.com/u/1822037?v=4","url":"https://github.com/Breuls","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHr2YXg==","node":{"__typename":"PullRequest","additions":94,"authorAssociation":"CONTRIBUTOR","bodyHTML":"<ul>\n<li>allows use of the <code>yarn workspace</code> command to target and run scripts defined in the root workspace</li>\n</ul>\n\n\n<h2>Summary</h2>\n\n<p>Having a well defined name allows project tools to target the root workspace specifically. For example, the <code>yarn workspace</code> command and run a project build script from another workspace.</p>\n<h2>Test plan</h2>\n","createdAt":"2020-11-05T02:01:41Z","deletions":92,"merged":true,"mergedAt":"2020-11-05T10:15:02Z","number":10782,"state":"MERGED","title":"chore: add name to root project","url":"https://github.com/facebook/jest/pull/10782","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"njmaeff","avatarUrl":"https://avatars2.githubusercontent.com/u/31554476?v=4","url":"https://github.com/njmaeff","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHrq62Q==","node":{"__typename":"PullRequest","additions":90,"authorAssociation":"COLLABORATOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>Re-apply <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"715467170\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10599\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/facebook/jest/pull/10599/hovercard\" href=\"https://github.com/facebook/jest/pull/10599\">#10599</a></p>\n\n<h2>Test plan</h2>\n<p>Green CI</p>\n","createdAt":"2020-11-04T18:05:26Z","deletions":18,"merged":true,"mergedAt":"2020-11-04T18:24:33Z","number":10781,"state":"MERGED","title":"fix(resolve): use escalade to find package.json","url":"https://github.com/facebook/jest/pull/10781","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"SimenB","avatarUrl":"https://avatars0.githubusercontent.com/u/1404810?u=cdcba99de7977aed2bd0434e8d435a0548bcf95e&v=4","url":"https://github.com/SimenB","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHrkTEg==","node":{"__typename":"PullRequest","additions":183,"authorAssociation":"CONTRIBUTOR","bodyHTML":"<ul>\n<li>\n<p>add a new errors object reference to describe blocks for conditionally running <code>beforeAll</code> and <code>afterEach</code> hooks depending on the describe block setup status.</p>\n</li>\n<li>\n<p>skip test retry on failed <code>beforeAll</code> setup</p>\n</li>\n<li>\n<p>add errors to all child describe blocks and tests when a parent describe block hook throws an error.</p>\n</li>\n<li>\n<p>add snapshot tests to show execution behaviour when a <code>beforeAll</code> hook fails.</p>\n</li>\n<li>\n<p>fix typo in <code>packages/jest-circus/src/__tests__/hooks.test.ts</code>, exectued -&gt; executed</p>\n</li>\n</ul>\n\n\n<h2>Summary</h2>\n\n<p>A failing <code>beforeAll</code> hook will mark all child tests for failure. Currently when a <code>beforeAll</code> hook fails, the sibling and child <code>beforeAll</code> hooks will still run and so will the <code>afterEach</code> hooks of the child tests.</p>\n<h2>Test plan</h2>\n<p>I added a few snapshot tests demonstrating the expected flow.</p>\n\n<p>Issues: <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"734950275\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10774\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/10774/hovercard\" href=\"https://github.com/facebook/jest/issues/10774\">#10774</a></p>","createdAt":"2020-11-04T15:05:15Z","deletions":15,"merged":false,"mergedAt":null,"number":10780,"state":"OPEN","title":"fix(jest-circus): add fast fail behaviour for beforeEach hooks","url":"https://github.com/facebook/jest/pull/10780","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"njmaeff","avatarUrl":"https://avatars2.githubusercontent.com/u/31554476?v=4","url":"https://github.com/njmaeff","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHrLKmw==","node":{"__typename":"PullRequest","additions":24,"authorAssociation":"CONTRIBUTOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>This <span class=\"issue-keyword tooltipped tooltipped-se\" aria-label=\"This pull request closes issue #10771.\">fixes</span> <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"734700742\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10771\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/10771/hovercard\" href=\"https://github.com/facebook/jest/issues/10771\">#10771</a>, a regression caused by <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"729645447\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10713\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/facebook/jest/pull/10713/hovercard\" href=\"https://github.com/facebook/jest/pull/10713\">#10713</a></p>\n<p>I've basically wrapped the <code>getMockModule</code> call with a <code>try/catch</code>, similarly to how it's done in the bit above.</p>\n<h2>Test plan</h2>\n<p>Added a unit test to make sure dependency resolution continues if a mock dependency can't be found.</p>","createdAt":"2020-11-03T22:50:43Z","deletions":4,"merged":true,"mergedAt":"2020-11-04T05:49:03Z","number":10779,"state":"MERGED","title":"Don't throw an error if mock dependency can't be found","url":"https://github.com/facebook/jest/pull/10779","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"brapifra","avatarUrl":"https://avatars2.githubusercontent.com/u/17855450?u=47a4f8d61c3ac3436f2b8e56f7704e68f840bb1d&v=4","url":"https://github.com/brapifra","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHrAkhw==","node":{"__typename":"PullRequest","additions":3,"authorAssociation":"NONE","bodyHTML":"\n\n<h2>Summary</h2>\n\n<p>This pull request fixes issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"735412975\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10776\" data-hovercard-type=\"issue\" data-hovercard-url=\"/facebook/jest/issues/10776/hovercard\" href=\"https://github.com/facebook/jest/issues/10776\">#10776</a>. The current documentation for <code>describe.skip</code> was misleading: its tests or setup functions are not run, but any other statements are run.</p>\n<h2>Test plan</h2>\n","createdAt":"2020-11-03T16:40:54Z","deletions":1,"merged":false,"mergedAt":null,"number":10778,"state":"OPEN","title":"docs: clarify describe.skip behavior","url":"https://github.com/facebook/jest/pull/10778","comments":{"totalCount":2},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"cdoublev","avatarUrl":"https://avatars0.githubusercontent.com/u/15889080?u=e9ac07efaae7e616e6623bb8edc993177f126661&v=4","url":"https://github.com/cdoublev","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHqlteg==","node":{"__typename":"PullRequest","additions":16,"authorAssociation":"COLLABORATOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>Follow-up to <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"733744019\" data-permission-text=\"Title is private\" data-url=\"https://github.com/facebook/jest/issues/10753\" data-hovercard-type=\"pull_request\" data-hovercard-url=\"/facebook/jest/pull/10753/hovercard\" href=\"https://github.com/facebook/jest/pull/10753\">#10753</a> with more scheduled breaking changes in the transformer.</p>\n\n<h2>Test plan</h2>\n<p>Green CI</p>\n","createdAt":"2020-11-03T01:02:31Z","deletions":23,"merged":false,"mergedAt":null,"number":10773,"state":"OPEN","title":"chore: transformers must return objects, not strings","url":"https://github.com/facebook/jest/pull/10773","comments":{"totalCount":10},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"SimenB","avatarUrl":"https://avatars0.githubusercontent.com/u/1404810?u=cdcba99de7977aed2bd0434e8d435a0548bcf95e&v=4","url":"https://github.com/SimenB","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHqkweA==","node":{"__typename":"PullRequest","additions":3,"authorAssociation":"COLLABORATOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>Type addition upstreamed</p>\n\n<h2>Test plan</h2>\n<p>Green CI</p>\n","createdAt":"2020-11-03T00:10:52Z","deletions":11,"merged":true,"mergedAt":"2020-11-03T00:44:20Z","number":10772,"state":"MERGED","title":"chore: bump babel core types","url":"https://github.com/facebook/jest/pull/10772","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"SimenB","avatarUrl":"https://avatars0.githubusercontent.com/u/1404810?u=cdcba99de7977aed2bd0434e8d435a0548bcf95e&v=4","url":"https://github.com/SimenB","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHqNgag==","node":{"__typename":"PullRequest","additions":2649,"authorAssociation":"COLLABORATOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p><g-emoji class=\"g-emoji\" alias=\"shrug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f937.png\">ü§∑</g-emoji></p>\n\n<h2>Test plan</h2>\n<p>Green CI</p>\n","createdAt":"2020-11-02T12:25:21Z","deletions":3237,"merged":true,"mergedAt":"2020-11-02T12:45:26Z","number":10768,"state":"MERGED","title":"chore: refresh lockfiles","url":"https://github.com/facebook/jest/pull/10768","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"SimenB","avatarUrl":"https://avatars0.githubusercontent.com/u/1404810?u=cdcba99de7977aed2bd0434e8d435a0548bcf95e&v=4","url":"https://github.com/SimenB","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOHqLyfQ==","node":{"__typename":"PullRequest","additions":57,"authorAssociation":"COLLABORATOR","bodyHTML":"\n\n<h2>Summary</h2>\n<p>Good practice on CI. Also snuck in using node 14 on azure and node 14 for the code coverage run on circle</p>\n\n<h2>Test plan</h2>\n<p>Green CI</p>\n","createdAt":"2020-11-02T11:31:46Z","deletions":52,"merged":true,"mergedAt":"2020-11-02T12:11:38Z","number":10767,"state":"MERGED","title":"chore: run yarn with `immutable` flag","url":"https://github.com/facebook/jest/pull/10767","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"SimenB","avatarUrl":"https://avatars0.githubusercontent.com/u/1404810?u=cdcba99de7977aed2bd0434e8d435a0548bcf95e&v=4","url":"https://github.com/SimenB","__typename":"User"}}}]},"issues":{"edges":[{"cursor":"Y3Vyc29yOnYyOpHOK_FX3g==","node":{"__typename":"Issue","authorAssociation":"CONTRIBUTOR","bodyHTML":"<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>In strict unhandled rejections mode (<a rel=\"nofollow\" href=\"https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode\">https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode</a>), the stack trace of unhandled rejection is not displayed in the console. This mode is default in Node.js 15.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>Run a test with an unhandled rejection, for example:</li>\n</ol>\n<pre><code>test(\"foo\", () =&gt; {\n  Promise.reject(new Error());\n  expect(1).toBe(1);\n});\n</code></pre>\n<ol start=\"2\">\n<li>The output is:</li>\n</ol>\n<pre><code> RUNS  ./index.test.js\nnode:internal/process/promises:218\n          triggerUncaughtException(err, true /* fromPromise */);\n          ^\n\n[UnhandledPromiseRejection: This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). The promise rejected with the reason \"Error\".] {\n  code: 'ERR_UNHANDLED_REJECTION'\n}\n</code></pre>\n<h2>Expected behavior</h2>\n<p>The stack trace is displayed in the console.</p>\n<h2>Link to repl or repo (highly encouraged)</h2>\n<p><a href=\"https://github.com/vkrol/jest-unhandled-rejection-stack-trace\">https://github.com/vkrol/jest-unhandled-rejection-stack-trace</a></p>\n<h2>envinfo</h2>\n<pre><code>  System:\n    OS: Windows 10 10.0.19042\n    CPU: (8) x64 Intel(R) Core(TM) i7-6700 CPU @ 3.40GHz\n  Binaries:\n    Node: 15.1.0 - ~\\scoop\\apps\\nodejs\\current\\node.EXE\n    Yarn: 1.22.5 - ~\\scoop\\apps\\yarn\\current\\Yarn\\bin\\yarn.CMD\n    npm: 7.0.8 - ~\\scoop\\apps\\nodejs\\current\\npm.CMD\n  npmPackages:\n    jest: 26.6.3 =&gt; 26.6.3\n</code></pre>","createdAt":"2020-11-05T20:15:54Z","number":10784,"state":"OPEN","title":"Do not filter out stack trace for unhandled rejections","url":"https://github.com/facebook/jest/issues/10784","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"vkrol","avatarUrl":"https://avatars2.githubusercontent.com/u/153412?u=3532f730a02a9f833e159c8c2f9dce02fb8afcc6&v=4","url":"https://github.com/vkrol","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOK_FwAg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>I have written a middleware stack derived from express.js. The idea is to have an express-like function stack for arbitrary uses cases. While unit testing this project, I've come across a bewildering issue. The first 12 test suites that I wrote behave as expected (they fail when they should fail and pass when they should pass). But the 13th test suite passes unless I <code>console.log( bad_value )</code> just before the <code>expect( bad_value ).toBe( good_value )</code></p>\n<h2>To Reproduce</h2>\n<p>NO idea. All test suites prior to the 13th behave as expected. I can't imaging why the number of test suites would matter...</p>\n<h2>Expected behavior</h2>\n<p>I expect <code>expect()</code> statements inside of nonce functions to execute synchronously. such as follows</p>\n<pre><code>\tconst S = new Stack();\n\n\tS.use( () =&gt; {\n\t\tthrow new Error( \"FAIL\" );\n\t});\n\n\tS.use( ( err, data, next ) =&gt; {\n\t\texpect( err.message ).toBe( \"PASS\" ); // Should fail, but always passes\n\t\tnext( err )\n\t}) ;\n       \n       S.dispatch() // Calls all functions passed to S.use() synchronously, and FIFO order\n\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/64701339/jest-assertion-fails-unless-i-console-log-the-expected-value-before-the-assertio\" rel=\"nofollow\">StackOverflow</a></p>\n<p><a href=\"https://repl.it/@TyMeador/LightsalmonScornfulUnits#Stack.test.js\" rel=\"nofollow\">Look at the last test in this repl.it</a></p>\n<h2>envinfo</h2>\n<pre><code>  System:\n    OS: Linux 5.4 Ubuntu 20.04.1 LTS (Focal Fossa)\n    CPU: (8) x64 Intel(R) Core(TM) i7-4710HQ CPU @ 2.50GHz\n  Binaries:\n    Node: 12.16.3 - ~/.nvm/versions/node/v12.16.3/bin/node\n    npm: 6.14.8 - ~/.nvm/versions/node/v12.16.3/bin/npm\n  npmPackages:\n    jest: ^26.6.1 =&gt; 26.6.1 \n\n</code></pre>","createdAt":"2020-11-05T20:25:33Z","number":10785,"state":"OPEN","title":"Assertion fails unless I console.log the expected value before the expect() statement (code is synchronous)","url":"https://github.com/facebook/jest/issues/10785","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"ty-meador","avatarUrl":"https://avatars0.githubusercontent.com/u/71994588?u=c839693ab6382a75ee53d841a845c22b55ab80d4&v=4","url":"https://github.com/ty-meador","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOK_GCbg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"\n<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>In the latest version of Jest (26.6.3) <code>new Float32Array( 1 ).buffer instanceof ArrayBuffer</code> returns <code>false</code> causing tests to fail.</p>\n<h2>To Reproduce</h2>\n<p>The following test fails in v26.6.3 but passes in v25.5.4 with no extra configuration:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-en\">describe</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'Float32Array.buffer'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-en\">it</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'should be an instance of ArrayBuffer'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-en\">expect</span><span class=\"pl-kos\">(</span><span class=\"pl-k\">new</span> <span class=\"pl-v\">Float32Array</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">buffer</span> <span class=\"pl-k\">instanceof</span> <span class=\"pl-v\">ArrayBuffer</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toBeTruthy</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<h2>Expected behavior</h2>\n<p>That <code>new Float32Array().buffer instanceof ArrayBuffer</code> return true like it does in the browser and node.</p>\n<h2>envinfo</h2>\n<pre><code>  System:\n    OS: macOS High Sierra 10.13.6\n  Binaries:\n    Node: 13.8.0\n    Yarn: 1.10.1\n    npm: 6.13.7\n  npmPackages:\n    jest: ^26.6.3 =&gt; 26.6.3 \n</code></pre>","createdAt":"2020-11-05T20:33:25Z","number":10786,"state":"OPEN","title":"Float32Array.buffer instanceof ArrayBuffer returns false in latest release","url":"https://github.com/facebook/jest/issues/10786","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"gkjohnson","avatarUrl":"https://avatars2.githubusercontent.com/u/734200?u=f169e56702743d90524c3bb0cc2c17f57f9b7aca&v=4","url":"https://github.com/gkjohnson","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOK_NjLg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"\n<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-c\">// index.ts</span>\n<span class=\"pl-k\">type</span> <span class=\"pl-smi\">Config</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">clusters</span>: <span class=\"pl-kos\">{</span> <span class=\"pl-kos\">[</span><span class=\"pl-smi\">id</span> <span class=\"pl-k\">in</span> <span class=\"pl-smi\">string</span><span class=\"pl-kos\">]</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-c1\">helpMenu</span>: <span class=\"pl-kos\">{</span>\n        <span class=\"pl-c1\">open</span>: <span class=\"pl-smi\">boolean</span><span class=\"pl-kos\">;</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-en\">getDefaultClusters</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">clusters</span>: <span class=\"pl-smi\">Config</span><span class=\"pl-kos\">[</span><span class=\"pl-s\">\"clusters\"</span><span class=\"pl-kos\">]</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-k\">new</span> <span class=\"pl-smi\">Proxy</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">clusters</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">{</span>\n        <span class=\"pl-en\">get</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-kos\">{</span>\n            <span class=\"pl-k\">return</span> <span class=\"pl-s\">\"foo\"</span><span class=\"pl-kos\">;</span>\n        <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">export</span> <span class=\"pl-k\">const</span> <span class=\"pl-smi\">DEFAULT_CONFIG</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-c1\">clusters</span>: <span class=\"pl-en\">getDefaultClusters</span><span class=\"pl-kos\">(</span><span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-c1\">helpMenu</span>: <span class=\"pl-kos\">{</span>\n        <span class=\"pl-c1\">open</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-k\">export</span> <span class=\"pl-k\">const</span> <span class=\"pl-en\">getDefaultConfig</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">(</span><span class=\"pl-s1\">openMenu</span>: <span class=\"pl-smi\">boolean</span><span class=\"pl-kos\">)</span>: <span class=\"pl-smi\">Config</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-k\">return</span> <span class=\"pl-kos\">{</span>\n        ...<span class=\"pl-smi\">DEFAULT_CONFIG</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-c1\">helpMenu</span>: <span class=\"pl-kos\">{</span>\n            <span class=\"pl-c1\">open</span>: <span class=\"pl-s1\">openMenu</span><span class=\"pl-kos\">,</span>\n        <span class=\"pl-kos\">}</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-c\">// index.test.ts</span>\n<span class=\"pl-k\">import</span> <span class=\"pl-kos\">{</span> <span class=\"pl-smi\">DEFAULT_CONFIG</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">getDefaultConfig</span> <span class=\"pl-kos\">}</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">\"./index\"</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-en\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"config\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-en\">expect</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">DEFAULT_CONFIG</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toEqual</span><span class=\"pl-kos\">(</span><span class=\"pl-smi\">DEFAULT_CONFIG</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-en\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">\"config wrapped in function\"</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n    <span class=\"pl-en\">expect</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">getDefaultConfig</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toEqual</span><span class=\"pl-kos\">(</span><span class=\"pl-en\">getDefaultConfig</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">true</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n<pre><code> FAIL  src/index.test.ts\n  ‚úì sanity\n  ‚úì config\n  ‚úï config wrapped in function (1 ms)\n\n  ‚óè config wrapped in function\n\n    TypeError: b[IteratorSymbol] is not a function\n\n      10 | \n      11 | test(\"config wrapped in function\", () =&gt; {\n    &gt; 12 |     expect(getDefaultConfig(true)).toEqual(getDefaultConfig(true));\n         |                                    ^\n      13 | });\n      14 | \n\n      at Object.&lt;anonymous&gt; (src/index.test.ts:12:36)\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 2 passed, 3 total\nSnapshots:   0 total\nTime:        1.596 s\nRan all test suites.\n</code></pre>\n<p>Why is it that the test named <code>config</code> testing the equality of <code>DEFAULT_CONFIG</code> succeeds but the test <code>config wrapped in function</code> fails? The only difference is that a function returns <code>DEFAULT_CONFIG</code>.</p>\n<h2>To Reproduce</h2>\n<p>The example above can be reproduced here: <a href=\"https://github.com/vai0/ts-jest-proxy\">https://github.com/vai0/ts-jest-proxy</a></p>\n<p>Steps to reproduce the behavior:</p>\n<ol>\n<li>clone repo</li>\n<li>run <code>npm install</code></li>\n<li>run <code>npm run test:watch</code></li>\n</ol>\n<h2>Expected behavior</h2>\n<p>Expect that the test handle objects with Proxy values returned from a function.</p>\n<h2>Link to repl or repo (highly encouraged)</h2>\n<p><a href=\"https://github.com/vai0/ts-jest-proxy\">https://github.com/vai0/ts-jest-proxy</a></p>\n<h2>envinfo</h2>\n<pre><code>System:\n    OS: Linux 4.19 Debian GNU/Linux 10 (buster) 10 (buster)\n    CPU: (8) x64 Intel(R) Core(TM) i7-7820HQ CPU @ 2.90GHz\n  Binaries:\n    Node: 12.14.0 - /tmp/fnm-shell-8205872/bin/node\n    npm: 6.13.4 - /tmp/fnm-shell-8205872/bin/npm\n  npmPackages:\n    jest: 26.6.3 =&gt; 26.6.3\n</code></pre>","createdAt":"2020-11-06T00:50:08Z","number":10788,"state":"OPEN","title":"Jest complains when function returning object containing a Proxy is tested with isEqual","url":"https://github.com/facebook/jest/issues/10788","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"vai0","avatarUrl":"https://avatars1.githubusercontent.com/u/1195698?u=e8c5c24cf02b844b83b34b2511e75b70bcfe83f1&v=4","url":"https://github.com/vai0","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOK_RTKg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<p>Hi there, I am trying to create a web application with React and I am currently using jest to test my React app. However, there is a feature where I am using the MediaRecorder Api to record a media stream in the web application, so when I write a simple test to check if that component has rendered using jest, it fails because it tells me: \"ReferenceError: MediaRecorder is not defined\" in the application at<br>\nlet mediaRecorder = new MediaRecorder(stream, options);.<br>\nI hear that jsdom doesn't have the mediarecorderAPI so I was trying to mock it, but I am super stuck on how to mock the MediaRecorder object or create a fake MediaRecorder object with a fake constructor that does nothing. If anyone has an idea on how to do it, please let me know <g-emoji class=\"g-emoji\" alias=\"pray\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f64f.png\">üôè</g-emoji></p>\n<p>And Thank you for your help!</p>","createdAt":"2020-11-06T03:41:40Z","number":10789,"state":"OPEN","title":"How to mock MediaRecorder API in Jest","url":"https://github.com/facebook/jest/issues/10789","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"JCODEPENG","avatarUrl":"https://avatars0.githubusercontent.com/u/46659122?v=4","url":"https://github.com/JCODEPENG","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOK_r8jg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>When using <code>test.concurrent.only</code> and <code>test.concurrent</code> with two different tests, the <code>test.concurrent</code> test runs but reports as skipped. This behavior does not happen with <code>test</code> and <code>test.only</code>.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<p>In a test file with all <code>test.concurrent</code>, change one of them to <code>test.concurrent.only</code> and rerun test for that file.</p>\n<h2>Expected behavior</h2>\n<p>When run with regular <code>test.only</code>, the <strong>execution</strong> of the others are not performed and the test is marked as skipped. However, with <code>test.concurrent.only</code>, the test does run (only apparent via side effects like <code>console.log</code>) but the test is correctly marked as skipped. The test should not actually run like it does with <code>test.only</code>.</p>\n<h2>Link to repl or repo (highly encouraged)</h2>\n<p>Using <code>test.only</code>:<br>\n<a rel=\"nofollow\" href=\"https://repl.it/repls/NativeHuskySweepsoftware#sum.test.js\">https://repl.it/repls/NativeHuskySweepsoftware#sum.test.js</a><br>\nIn this repl you can see the console.log line does not appear for the skipped test.</p>\n<p>Using <code>test.concurrent.only</code>:<br>\n<a rel=\"nofollow\" href=\"https://repl.it/repls/WillingDazzlingCategory#sum.test.js\">https://repl.it/repls/WillingDazzlingCategory#sum.test.js</a><br>\nBut in this version the console.log line does appear for the skipped test.</p>\n<h2>envinfo</h2>\n<p>N/A (used repl above for all testing)</p>\n<h2>Notes</h2>\n<p>I did not try this mixing <code>test</code> and <code>test.concurrent.only</code> but there could be an issue there as well.</p>","createdAt":"2020-11-06T15:58:20Z","number":10790,"state":"OPEN","title":"`test.concurrent.only` does not work as expected","url":"https://github.com/facebook/jest/issues/10790","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"mgwidmann","avatarUrl":"https://avatars3.githubusercontent.com/u/5035724?u=011e386ceec3d089f71741a6bf9790b0127c5ea7&v=4","url":"https://github.com/mgwidmann","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOK_tWMg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<p>Following code:</p>\n<pre><code>function two(one, two?) {\n    return 3;\n}\n\ntwo('herro');\n</code></pre>\n<p>Results in:</p>\n<pre><code>&gt; npx jest --config jestrc.json\n\n PASS  test/unit/server.spec.ts\n    ‚úì  (2 ms)\n\nRunning coverage on untested files...Failed to collect coverage from /home/karl/dev/afry/tmr-gateway/src/server.ts\nERROR: /home/karl/dev/afry/tmr-gateway/src/server.ts: Unexpected token, expected \",\" (1:21)\n\n&gt; 1 | function two(one, two?) {\n    |                      ^\n  2 |     return 3;\n  3 | }\n  4 | \nSTACK: SyntaxError: /home/karl/dev/afry/tmr-gateway/src/server.ts: Unexpected token, expected \",\" (1:21)\n\n&gt; 1 | function two(one, two?) {\n    |                      ^\n  2 |     return 3;\n  3 | }\n  4 | \n    at Parser._raise (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:799:17)\n    at Parser.raiseWithData (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:792:17)\n    at Parser.raise (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:786:17)\n    at Parser.unexpected (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:9089:16)\n    at Parser.expect (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:9075:28)\n    at Parser.parseBindingList (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:9473:14)\n    at Parser.parseFunctionParams (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:12322:24)\n    at Parser.parseFunction (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:12297:10)\n    at Parser.parseFunctionStatement (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:11925:17)\n    at Parser.parseStatementContent (/home/karl/dev/afry/tmr-gateway/node_modules/@babel/parser/lib/index.js:11615:21)\n----------|---------|----------|---------|---------|-------------------\nFile      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s \n----------|---------|----------|---------|---------|-------------------\nAll files |       0 |      100 |     100 |       0 |                   \n argh.ts  |       0 |      100 |     100 |       0 | 1                 \n----------|---------|----------|---------|---------|-------------------\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        1.263 s\nRan all test suites.\n</code></pre>\n<p>But the following code:</p>\n<pre><code>function two(one) {\n    return 3;\n}\n\ntwo('herro');\n</code></pre>\n<p>Results in:</p>\n<pre><code>&gt; npx jest --config jestrc.json\n\n PASS  test/unit/server.spec.ts\n    ‚úì  (1 ms)\n\n------------|---------|----------|---------|---------|-------------------\nFile        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s \n------------|---------|----------|---------|---------|-------------------\nAll files   |       0 |      100 |       0 |       0 |                   \n src        |       0 |      100 |       0 |       0 |                   \n  server.ts |       0 |      100 |       0 |       0 | 2-5               \n test/unit  |       0 |      100 |     100 |       0 |                   \n  argh.ts   |       0 |      100 |     100 |       0 | 1                 \n------------|---------|----------|---------|---------|-------------------\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        1.227 s\nRan all test suites.\n</code></pre>\n<p>package.json:</p>\n<pre><code>{\n    \"name\": \"tmr-gateway\",\n    \"version\": \"0.1.0\",\n    \"description\": \"\",\n    \"main\": \"index.js\",\n    \"scripts\": {\n        \"clean\": \"npx shx rm -rf dist coverage report\",\n        \"build\": \"npx shx rm -rf dist &amp;&amp; npx tsc\",\n        \"lint:check\": \"npx eslint .\",\n        \"lint:fix\": \"npx eslint . --fix\",\n        \"style:check\": \"npx prettier --check .\",\n        \"style:fix\": \"npx prettier --write .\",\n        \"test\": \"npx jest --config jestrc.json\"\n    },\n    \"author\": \"\",\n    \"license\": \"\",\n    \"devDependencies\": {\n        \"@types/jest\": \"26.0.15\",\n        \"cross-env\": \"7.0.2\",\n        \"eslint\": \"7.12.1\",\n        \"jest\": \"26.6.1\",\n        \"jest-junit\": \"12.0.0\",\n        \"jsdoc\": \"3.6.6\",\n        \"nodemon\": \"2.0.6\",\n        \"prettier\": \"2.1.2\",\n        \"shx\": \"0.3.3\",\n        \"typescript\": \"4.0.5\"\n    },\n    \"dependencies\": {\n        \"express\": \"4.17.1\"\n    }\n}\n</code></pre>\n<p>jest config:</p>\n<pre><code>{\n    \"bail\": 1,\n    \"verbose\": true,\n    \"collectCoverage\": true,\n    \"coverageReporters\": [\"json\", \"lcov\", \"text\", \"clover\"],\n    \"collectCoverageFrom\": [\"src/**/*.{ts,tsx}\", \"test/**/*.{ts,tsx}\"],\n    \"reporters\": [\n        \"default\",\n        [\n            \"jest-junit\",\n            {\n                \"outputDirectory\": \"report\",\n                \"outputName\": \"junit.xml\"\n            }\n        ]\n    ]\n}\n</code></pre>\n<p>Running on Linux ubuntu 16.04.</p>","createdAt":"2020-11-06T16:32:08Z","number":10791,"state":"OPEN","title":"Running coverage on untested files...Failed to collect coverage from","url":"https://github.com/facebook/jest/issues/10791","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"basickarl","avatarUrl":"https://avatars1.githubusercontent.com/u/10507098?u=06ea91081c2210c8dd5de520ac106fa67a23fa62&v=4","url":"https://github.com/basickarl","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOK_4eHA==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p><code>jest-mock</code>'s <code>getMetadata</code> ignores field properties when those are objects who have overridden the prototype's <code>toString</code> method. This has the effect of causing unwarranted runtime exceptions during tests when a test has mocked such an object.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-s1\">gql</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">'graphql-tag'</span>\n<span class=\"pl-k\">import</span> <span class=\"pl-v\">ModuleMocker</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">'jest-mock'</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">fragment</span> <span class=\"pl-c1\">=</span> <span class=\"pl-en\">gql</span><span class=\"pl-s\">`</span>\n<span class=\"pl-s\">  fragment SomeFragment on UserPostCounts {</span>\n<span class=\"pl-s\">    publishedPosts</span>\n<span class=\"pl-s\">  }</span>\n<span class=\"pl-s\">`</span>\n\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'fragment.loc.source:  '</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">fragment</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">loc</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">source</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">mockMetadata</span> <span class=\"pl-c1\">=</span> <span class=\"pl-v\">ModuleMocker</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">getMetadata</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">fragment</span><span class=\"pl-kos\">)</span>\n<span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'MockMetadata.members.loc.members.source: '</span><span class=\"pl-kos\">,</span> <span class=\"pl-s1\">mockMetadata</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">members</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">loc</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">members</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">source</span><span class=\"pl-kos\">)</span>\n\n<span class=\"pl-en\">it</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'toy test'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span></pre></div>\n<p>In this case, the source property of a fragment location object is an instance of a class that <a href=\"https://github.com/graphql/graphql-js/blob/master/src/language/source.js#L48-L50\">provides its own <code>toString</code></a>. I believe the root cause is the function <a href=\"https://github.com/facebook/jest/blob/master/packages/jest-mock/src/index.ts#L305\"><code>getType</code></a> and, more specifically, this function:</p>\n<p><div class=\"border rounded-1 my-2\">\n  <div class=\"f6 px-3 py-2 lh-condensed border-bottom bg-gray-light\">\n    <p class=\"mb-0 text-bold\">\n      <a href=\"https://github.com/facebook/jest/blob/4f84f6140c5df4e8244b0878a6acd6a37aabfb8e/packages/jest-mock/src/index.ts#L301-L303\">jest/packages/jest-mock/src/index.ts</a>\n    </p>\n    <p class=\"mb-0 text-gray-light\">\n        Lines 301 to 303\n      in\n      <a data-pjax=\"true\" class=\"commit-tease-sha\" href=\"/facebook/jest/commit/4f84f6140c5df4e8244b0878a6acd6a37aabfb8e\">4f84f61</a>\n    </p>\n    </div>\n    <div itemprop=\"text\" class=\"blob-wrapper blob-wrapper-embedded data\">\n    <table class=\"highlight tab-size mb-0 js-file-line-container\" data-tab-size=\"8\" data-paste-markdown-skip=\"\">\n\n        <tbody><tr class=\"border-0\">\n          <td id=\"L301\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"301\"></td>\n          <td id=\"LC301\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-k\">function</span> <span class=\"pl-en\">getObjectType</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">value</span>: <span class=\"pl-smi\">unknown</span><span class=\"pl-kos\">)</span>: <span class=\"pl-smi\">string</span> <span class=\"pl-kos\">{</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L302\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"302\"></td>\n          <td id=\"LC302\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\">   <span class=\"pl-k\">return</span> <span class=\"pl-smi\">Object</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">prototype</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">toString</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">apply</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">value</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">slice</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">8</span><span class=\"pl-kos\">,</span> <span class=\"pl-c1\">-</span><span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span> </td>\n        </tr>\n\n        <tr class=\"border-0\">\n          <td id=\"L303\" class=\"blob-num border-0 px-3 py-0 bg-white js-line-number\" data-line-number=\"303\"></td>\n          <td id=\"LC303\" class=\"blob-code border-0 px-3 py-0 bg-white blob-code-inner js-file-line\"> <span class=\"pl-kos\">}</span> </td>\n        </tr>\n    </tbody></table>\n  </div>\n</div>\n</p>\n<h2>Expected behavior</h2>\n<p>I expected <code>getMetadata</code> to correctly generate property information for all fields of an object regardless if a field was an object that overrode the <code>toString</code> function.</p>\n<h2>Link to repl or repo (highly encouraged)</h2>\n<p><a href=\"https://repl.it/repls/JovialOverjoyedMemory#sum.test.js\" rel=\"nofollow\">repl demo</a></p>\n<h2>envinfo</h2>\n<pre><code>  System:\n    OS: macOS 10.15.7\n    CPU: (8) x64 Intel(R) Core(TM) i7-8569U CPU @ 2.80GHz\n  Binaries:\n    Node: 12.18.3 - ~/.nvm/versions/node/v12.18.3/bin/node\n    Yarn: 1.17.3 - ~/path/to/project/node_modules/.bin/yarn\n    npm: 6.14.6 - ~/.nvm/versions/node/v12.18.3/bin/npm\n  npmPackages:\n    jest: 24.0.0 =&gt; 24.0.0 \n</code></pre>","createdAt":"2020-11-06T22:16:08Z","number":10792,"state":"OPEN","title":"[jest-mock] getMetadata incorrectly drops field properties","url":"https://github.com/facebook/jest/issues/10792","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"eduardoramirez","avatarUrl":"https://avatars1.githubusercontent.com/u/4296752?v=4","url":"https://github.com/eduardoramirez","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLAQ0PA==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>I have an existing <code>jest.config.js</code> or <code>jest.config.ts</code> <br><br>\nWhen i run <code>npx jest --init</code> it asks me about config file format (TypeScript: yes or no) <br><br>\nIf i already have <code>jest.config.ts OR js</code> i expect the CLI to update the config file format to opposite one <br>If it is <code>js</code> and i answer TypeScript = yes -&gt; then<code>.ts</code>, if it is <code>ts</code> and i answer TypeScript = no -&gt; then <code>.js</code></p>\n<h2>To Reproduce</h2>\n<p><code>npx jest --init</code> And if your conf file is <code>.js</code> answer TypeScript = yes <br><br>\nOr <code>npx jest --init</code> And if your conf file is <code>.ts</code> answer TypeScript = no</p>\n<h2>Expected behavior</h2>\n<p>To update <code>jest.config</code> file format</p>\n<h2>envinfo</h2>\n<pre><code>  System:\n    OS: Linux 5.8 Fedora 32 (Workstation Edition) 32 (Workstation Edition)\n    CPU: (4) x64 AMD FX(tm)-4100 Quad-Core Processor\n  Binaries:\n    Node: 14.15.0 - /usr/bin/node\n    Yarn: 1.22.5 - /usr/bin/yarn\n    npm: 6.14.8 - /usr/bin/npm\n  npmPackages:\n    jest: ^26.6.3 =&gt; 26.6.3 \n</code></pre>","createdAt":"2020-11-08T14:07:55Z","number":10795,"state":"OPEN","title":"jest --init doesn't override jest.config file extension","url":"https://github.com/facebook/jest/issues/10795","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"irevenko","avatarUrl":"https://avatars3.githubusercontent.com/u/44785096?u=73c0063e7392e45db55e82eac9c2abe112a19e1d&v=4","url":"https://github.com/irevenko","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLASAxA==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>The following TypeScript code</p>\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">import</span> * <span class=\"pl-k\">as</span> <span class=\"pl-s1\">employeeData</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">'Source_Data/employee'</span><span class=\"pl-kos\">;</span></pre></div>\n<p>generates this error message</p>\n<pre><code>    Cannot find module 'Source_Data/employee' from 'src/framework/module/header.ts'\n\n    Require stack:\n      src/framework/module/header.ts\n      src/framework/backend/jsonData.ts\n      test/unittest/backend/jsonData.ts\n\n      1 | import {uuid} from 'Source_ODS/uuid';\n      2 | //import * as employeeData from 'Source_Framework/data/employee';\n    &gt; 3 | import * as employeeData from 'Source_Data/employee';\n        | ^\n      4 |\n      5 |\n      6 | /**\n\n      at Resolver.resolveModule (node_modules/jest-resolve/build/index.js:306:11)\n      at Object.&lt;anonymous&gt; (src/framework/module/header.ts:3:1)\n</code></pre>\n<p>when using this <code>paths</code> settings:</p>\n<div class=\"highlight highlight-source-json\"><pre>{\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>extends<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./configs/tsconfig_base<span class=\"pl-pds\">\"</span></span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>compilerOptions<span class=\"pl-pds\">\"</span></span>: {\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>paths<span class=\"pl-pds\">\"</span></span>: {\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Source_Modules/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./src/modules/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Source_Framework/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./src/framework/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Source_Data/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./src/framework/data/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Source_ODS/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./src/framework/ods/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>Source_Vendor/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./vendor/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>CoreImg/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./img/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>jquery-ui/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>jquery-ui/ui/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>jquery-ui-css/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./vendor/jquery-ui/ui-lightness/*<span class=\"pl-pds\">\"</span></span>],\n      <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>JQueryUIImg/*<span class=\"pl-pds\">\"</span></span>: [<span class=\"pl-s\"><span class=\"pl-pds\">\"</span>./vendor/jquery-ui/ui-lightness/images/*<span class=\"pl-pds\">\"</span></span>]\n    }\n  },\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>compileOnSave<span class=\"pl-pds\">\"</span></span>: <span class=\"pl-c1\">false</span>,\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>include<span class=\"pl-pds\">\"</span></span>: [\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>src/**/*<span class=\"pl-pds\">\"</span></span>,\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>test/unittest/**/*<span class=\"pl-pds\">\"</span></span>\n  ],\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>exclude<span class=\"pl-pds\">\"</span></span>: [\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>node_modules<span class=\"pl-pds\">\"</span></span>\n  ]\n}</pre></div>\n<p>but when changing it to this</p>\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">import</span> * <span class=\"pl-k\">as</span> <span class=\"pl-s1\">employeeData</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">'Source_Data/employee'</span><span class=\"pl-kos\">;</span></pre></div>\n<p>it works as expected.</p>\n<h2>To Reproduce</h2>\n<p>The problem can be reproduced at will but I'm currently not able to extract it from a large production environment into a simple example.</p>\n<h2>Expected behavior</h2>\n<p>The code reporting an error should work the same way the workaround works as the module does exist.</p>\n<h2>Link to repl or repo (highly encouraged)</h2>\n<p>Unfortunately not yet possible but working on it</p>\n<h2>envinfo</h2>\n<p>typescript: 4.0.5<br>\njest: 26.6.3<br>\nts-jest: 26.4.4</p>\n<pre><code>  System:\n    OS: macOS 10.15.7\n    CPU: (8) x64 Intel(R) Core(TM) i7-8559U CPU @ 2.70GHz\n  Binaries:\n    Node: 14.15.0 - ~/.nvm/versions/node/v14.15.0/bin/node\n    npm: 6.14.8 - ~/.nvm/versions/node/v14.15.0/bin/npm\n</code></pre>","createdAt":"2020-11-08T15:40:53Z","number":10796,"state":"CLOSED","title":"Error when resolving es6 module using paths in TypeScript code","url":"https://github.com/facebook/jest/issues/10796","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"doberkofler","avatarUrl":"https://avatars0.githubusercontent.com/u/1009585?u=0b17a55020afbfd85625a36465cef28b6beb20d5&v=4","url":"https://github.com/doberkofler","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLA0szw==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<p>Hi,</p>\n<p>I am facing the below error which is shown in the below image.</p>\n<p><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://user-images.githubusercontent.com/73217831/98551483-5ed64580-22c3-11eb-9908-8c755fbdb560.png\"><img src=\"https://user-images.githubusercontent.com/73217831/98551483-5ed64580-22c3-11eb-9908-8c755fbdb560.png\" alt=\"Screenshot_3\" style=\"max-width:100%;\"></a></p>\n<p>if you need any extra details, please let me know.</p>\n<p>Thank you.</p>","createdAt":"2020-11-09T14:10:49Z","number":10799,"state":"CLOSED","title":"Getting Error while unit testing node.js project with jest. ","url":"https://github.com/facebook/jest/issues/10799","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"sagarMehta1907","avatarUrl":"https://avatars0.githubusercontent.com/u/73217831?v=4","url":"https://github.com/sagarMehta1907","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLA5DMQ==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"\n<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>After upgrading from Jest <code>v26.6.0</code> to <code>v26.6.2</code> I started to experience missing files in the code coverage report.</p>\n<p>I found that the problem is fixed when I re-run <code>jest</code> with <code>--no-cache</code>.</p>\n<h2>To Reproduce</h2>\n<p>I couldn't isolate the problem in  a small repo, but I found that it happens very often when I follow these steps:</p>\n<ol>\n<li>Run tests with <code>jest --coverage</code></li>\n<li>Add new tests while running with <code>jest --watch</code></li>\n<li>Stop the jest watch process and re-run again with coverage: <code>jest --coverage</code></li>\n</ol>\n<p>The files added in step 2 are missing from the coverage report, re-run again with <code>--no-cache</code> and the new files will appear.</p>\n<h2>Expected behavior</h2>\n\n<p>I never run into this problem when using <code>v26.6.0</code>, so I assume that is caused by some patch added in the last version.<br>\nI also removed the whole cache directory reported by <code>jest --show-config</code></p>\n<h2>Link to repl or repo (highly encouraged)</h2>\n\n<p>Sorry I couldn't make a small repo to reproduce this.</p>\n<h2>envinfo</h2>\n\n<pre><code>  System:\n    OS: macOS 10.15.7\n    CPU: (8) x64 Intel(R) Core(TM) i7-8569U CPU @ 2.80GHz\n  Binaries:\n    Node: 12.16.1 - ~/.nvm/versions/node/v12.16.1/bin/node\n    Yarn: 1.22.4 - ~/.yarn/bin/yarn\n    npm: 6.14.8 - ~/.nvm/versions/node/v12.16.1/bin/npm\n  npmPackages:\n    jest: ^26.6.2 =&gt; 26.6.2 \n</code></pre>\n<p>I'm also using TypeScript with <code>ts-jest</code>:</p>\n<pre><code>typescript@4.0.5\nts-jest@26.4.3\n</code></pre>\n<p><code>jest.config.js</code>:</p>\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-smi\">module</span><span class=\"pl-kos\">.</span><span class=\"pl-c1\">exports</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-c1\">preset</span>: <span class=\"pl-s\">'ts-jest'</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">clearMocks</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">collectCoverageFrom</span>: <span class=\"pl-kos\">[</span>\n    <span class=\"pl-s\">'src/**'</span><span class=\"pl-kos\">,</span>\n    <span class=\"pl-s\">'!src/**/*.d.ts'</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-kos\">]</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>","createdAt":"2020-11-09T15:36:40Z","number":10800,"state":"OPEN","title":"Issues with Jest Coverage and Cache after upgrading from 26.6.0 to 26.6.2","url":"https://github.com/facebook/jest/issues/10800","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"dfernandez79","avatarUrl":"https://avatars0.githubusercontent.com/u/1102266?v=4","url":"https://github.com/dfernandez79","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLBJ7XQ==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<p>Jest seems to fail on require statement. I need to keep <code>--runInBand </code> argument for other db related tests that uses the same ressource.</p>\n<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<pre><code>    Invalid argument: --runInBand.\n\n      3 | import {Anchor} from \"../../../../corelogic/models/anchor.interface\";\n      4 |\n    &gt; 5 | const chp = require('chainpoint-js');\n        |             ^\n      6 | \n      7 |\n      8 | export class RealChainpointGateway implements ChainpointGateway {\n\n      at Config.parseArg (node_modules/bcfg/lib/config.js:884:17)\n      at Config.load (node_modules/bcfg/lib/config.js:117:12)\n      at node_modules/chainpoint-js/dist/bundle.js:1:9189\n      at Module.&lt;anonymous&gt; (node_modules/chainpoint-js/dist/bundle.js:1:9257)\n      at t (node_modules/chainpoint-js/dist/bundle.js:1:393)\n      at Object.&lt;anonymous&gt; (node_modules/chainpoint-js/dist/bundle.js:1:1683)\n      at t (node_modules/chainpoint-js/dist/bundle.js:1:393)\n      at node_modules/chainpoint-js/dist/bundle.js:1:1192\n      at node_modules/chainpoint-js/dist/bundle.js:1:1202\n      at node_modules/chainpoint-js/dist/bundle.js:1:108\n      at Object.&lt;anonymous&gt; (node_modules/chainpoint-js/dist/bundle.js:1:259)\n      at Object.&lt;anonymous&gt; (src/adapters/gateways/internal/chainpoint/realChainpointGateway.ts:5:13)\n      at Object.&lt;anonymous&gt; (src/adapters/gateways/internal/chainpoint/realChainpointGateway.ispec.ts:2:1)\n</code></pre>\n<p>I can provide small repo with 1 test file / 1 source file that imports the package</p>\n<h2>Expected behavior</h2>\n<p>Be able to require the package and running tests with runInBand</p>\n<p>config file : <a rel=\"nofollow\" href=\"https://pastebin.com/KZuKSWQW\">https://pastebin.com/KZuKSWQW</a></p>\n<pre><code>  System:\n    OS: Linux 4.4 Ubuntu 18.04.2 LTS (Bionic Beaver)\n    CPU: (8) x64 AMD Ryzen 5 PRO 3500U w/ Radeon Vega Mobile Gfx\n  Binaries:\n    Node: 12.16.1 - /usr/bin/node\n    Yarn: 1.22.4 - /mnt/c/Program Files (x86)/Yarn/bin/yarn\n    npm: 6.14.2 - /usr/bin/npm\n  npmPackages:\n    jest: ^26.0.0 =&gt; 26.0.0\n</code></pre>","createdAt":"2020-11-09T22:26:52Z","number":10801,"state":"CLOSED","title":"Jest reports \"Invalid argument: --runInBand\"","url":"https://github.com/facebook/jest/issues/10801","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"Singtah","avatarUrl":"https://avatars3.githubusercontent.com/u/39336592?v=4","url":"https://github.com/Singtah","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLBmxAA==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n<p>Cannot build jest locally</p>\n<h2>To Reproduce</h2>\n<p>Clone repo</p>\n<ol>\n<li>Run yarn install</li>\n<li>Run yarn build</li>\n</ol>\n<pre><code>test-utils........................................................................................................................................................................................................................................................... DONE \n Building TypeScript definition files \nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\nnode_modules/@types/jsdom/ts3.3/index.d.ts:4:10 - error TS2305: Module '\"../../../parse5/lib\"' has no exported member 'ElementLocation'.\n\n4 import { ElementLocation } from 'parse5';\n           ~~~~~~~~~~~~~~~\n\n\nFound 9 errors.\n\n Unable to build TypeScript definition files \nGot error Error: Command failed with exit code 1: yarn tsc -b D:\\Projects\\jest\\packages\\babel-jest D:\\Projects\\jest\\packages\\babel-plugin-jest-hoist D:\\Projects\\jest\\packages\\diff-sequences D:\\Projects\\jest\\packages\\expect D:\\Projects\\jest\\packages\\jest D:\\Projects\\jest\\packages\\jest-changed-files D:\\Projects\\jest\\packages\\jest-circus D:\\Projects\\jest\\packages\\jest-cli D:\\Projects\\jest\\packages\\jest-config D:\\Projects\\jest\\packages\\jest-console D:\\Projects\\jest\\packages\\jest-core D:\\Projects\\jest\\packages\\jest-create-cache-key-function D:\\Projects\\jest\\packages\\jest-diff D:\\Projects\\jest\\packages\\jest-docblock D:\\Projects\\jest\\packages\\jest-each D:\\Projects\\jest\\packages\\jest-environment D:\\Projects\\jest\\packages\\jest-environment-jsdom D:\\Projects\\jest\\packages\\jest-environment-node D:\\Projects\\jest\\packages\\jest-fake-timers D:\\Projects\\jest\\packages\\jest-get-type D:\\Projects\\jest\\packages\\jest-globals D:\\Projects\\jest\\packages\\jest-haste-map D:\\Projects\\jest\\packages\\jest-jasmine2 D:\\Projects\\jest\\packages\\jest-leak-detector D:\\Projects\\jest\\packages\\jest-matcher-utils D:\\Projects\\jest\\packages\\jest-message-util D:\\Projects\\jest\\packages\\jest-mock D:\\Projects\\jest\\packages\\jest-phabricator D:\\Projects\\jest\\packages\\jest-regex-util D:\\Projects\\jest\\packages\\jest-repl D:\\Projects\\jest\\packages\\jest-reporters D:\\Projects\\jest\\packages\\jest-resolve D:\\Projects\\jest\\packages\\jest-resolve-dependencies D:\\Projects\\jest\\packages\\jest-runner D:\\Projects\\jest\\packages\\jest-runtime D:\\Projects\\jest\\packages\\jest-serializer D:\\Projects\\jest\\packages\\jest-snapshot D:\\Projects\\jest\\packages\\jest-source-map D:\\Projects\\jest\\packages\\jest-test-result D:\\Projects\\jest\\packages\\jest-test-sequencer D:\\Projects\\jest\\packages\\jest-transform D:\\Projects\\jest\\packages\\jest-types D:\\Projects\\jest\\packages\\jest-util D:\\Projects\\jest\\packages\\jest-validate D:\\Projects\\jest\\packages\\jest-watcher D:\\Projects\\jest\\packages\\jest-worker D:\\Projects\\jest\\packages\\pretty-format D:\\Projects\\jest\\packages\\test-utils\n    at makeError (D:\\Projects\\jest\\node_modules\\execa\\lib\\error.js:59:11)\n    at handlePromise (D:\\Projects\\jest\\node_modules\\execa\\index.js:114:26)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n\n</code></pre>\n<h2>Expected behavior</h2>\n<p>Successfull build</p>\n<h2>envinfo</h2>\n\n<pre><code>  System:\n    OS: Windows 10 10.0.19041\n    CPU: (8) x64 Intel(R) Core(TM) i7-3770K CPU @ 3.50GHz\n  Binaries:\n    Node: 10.22.0 - C:\\Program Files\\nodejs\\node.EXE\n    Yarn: 2.3.3-git.20201026.e34bf6c6 - C:\\Program Files (x86)\\Yarn\\bin\\yarn.CMD\n    npm: 6.14.6 - C:\\Program Files\\nodejs\\npm.CMD\n  npmPackages:\n    jest: workspace:* =&gt; 26.6.3\n\n</code></pre>","createdAt":"2020-11-10T12:48:12Z","number":10803,"state":"OPEN","title":"Jest build broken","url":"https://github.com/facebook/jest/issues/10803","comments":{"totalCount":2},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"Lonli-Lokli","avatarUrl":"https://avatars3.githubusercontent.com/u/767795?v=4","url":"https://github.com/Lonli-Lokli","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLDKTqA==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<p>instead of</p>\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">export</span> <span class=\"pl-k\">default</span> <span class=\"pl-kos\">{</span>\n<span class=\"pl-kos\">}</span></pre></div>\n<p>which is basically useless for discovery and validation with typescript</p>\n<p>do</p>\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">import</span> <span class=\"pl-k\">type</span> <span class=\"pl-kos\">{</span> <span class=\"pl-smi\">Config</span> <span class=\"pl-kos\">}</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">'@jest/types'</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-c\">/*</span>\n<span class=\"pl-c\"> * For a detailed explanation regarding each configuration property and type check, visit:</span>\n<span class=\"pl-c\"> * https://jestjs.io/docs/en/configuration.html</span>\n<span class=\"pl-c\"> */</span>\n\n<span class=\"pl-k\">const</span> <span class=\"pl-s1\">config</span>: <span class=\"pl-smi\">Config</span><span class=\"pl-kos\">.</span><span class=\"pl-smi\">InitialOptions</span> <span class=\"pl-c1\">=</span> <span class=\"pl-kos\">{</span></pre></div>\n<p>also consider adding</p>\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">const</span> <span class=\"pl-s1\">config</span>: <span class=\"pl-smi\">Config</span><span class=\"pl-kos\">.</span><span class=\"pl-smi\">InitialOptions</span> <span class=\"pl-c1\">=</span><span class=\"pl-kos\">{</span>\n   <span class=\"pl-c1\">preset</span>: <span class=\"pl-s\">'ts-jest'</span><span class=\"pl-kos\">,</span>\n<span class=\"pl-kos\">}</span></pre></div>","createdAt":"2020-11-12T11:16:13Z","number":10808,"state":"OPEN","title":"jest --init include types in generated config","url":"https://github.com/facebook/jest/issues/10808","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"xenoterracide","avatarUrl":"https://avatars3.githubusercontent.com/u/5517?v=4","url":"https://github.com/xenoterracide","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLDM2YQ==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"\n<h2><g-emoji class=\"g-emoji\" alias=\"rocket\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f680.png\">üöÄ</g-emoji> Feature Proposal</h2>\n<p>Currently the testMatch property does not work if you start the pattern with <code>../</code><br>\nNot sure if it's a bug or intended, but I would propose to make ti possible to match tests that are outside the current directory.</p>\n<h2>Motivation</h2>\n<p>I have multiple services in my project, each with their own tests file.<br>\nI also have a folder \"Tests\" where I put all my integration tests (and has it's own package.json file).</p>\n<p>In order to keep it clean, ideally I would run all the test from the Tests folder.<br>\nBut now I need to create a package.json file in the root folder of the project and run all the tests from there.</p>\n<h2>Example</h2>\n<p>Current solution:</p>\n<pre><code>\n-- Project \n    -- Services\n        -- Service1\n           --Tests\n              -- service1.test.js\n              -- controller1.test.js\n           --package.json\n   -- Tests \n       -- integration-test1.test.js\n       -- integration-test2.test.js\n       -- package.json\n  -- package.json                &lt;---- in here jest.testMatch: [\"**/*.test.js\"]\n</code></pre>\n<p>With proposes solution:</p>\n<pre><code>-- Project \n    -- Services\n        -- Service1\n           --Tests\n              -- service1.test.js\n              -- controller1.test.js\n           --package.json\n   -- Tests \n       -- integration-test1.test.js\n       -- integration-test2.test.\n       -- package.json                &lt;---- in here jest.testMatch: [\"../**/*.test.js\"]\n</code></pre>\n<h2>Pitch</h2>\n<p>Regards logic to find test files</p>","createdAt":"2020-11-12T12:19:10Z","number":10809,"state":"OPEN","title":"Allow testMatch to match tests from parent folder.","url":"https://github.com/facebook/jest/issues/10809","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"gionapaolini","avatarUrl":"https://avatars3.githubusercontent.com/u/15687088?v=4","url":"https://github.com/gionapaolini","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLDYbLg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"<p>Help me please.</p>\n<p>Error with jest, when execute tests with ADAL.service of Microsoft. Witk Karma executed OK, but with Jest failed.</p>\n<p><a rel=\"nofollow\" href=\"https://stackoverflow.com/questions/64760385/adal-service-ts-doesnt-work-for-me-in-angular-when-i-run-the-tests-with-jest\">https://stackoverflow.com/questions/64760385/adal-service-ts-doesnt-work-for-me-in-angular-when-i-run-the-tests-with-jest</a></p>\n<p>Best regards.</p>","createdAt":"2020-11-12T16:29:21Z","number":10810,"state":"OPEN","title":"Error with jest and ADAL.service","url":"https://github.com/facebook/jest/issues/10810","comments":{"totalCount":0},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"mpuertao","avatarUrl":"https://avatars0.githubusercontent.com/u/33495827?u=e85c303b1eb68ec1d76927c140162f2b6113f1cf&v=4","url":"https://github.com/mpuertao","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLDaynA==","node":{"__typename":"Issue","authorAssociation":"CONTRIBUTOR","bodyHTML":"\n<h2><g-emoji class=\"g-emoji\" alias=\"rocket\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f680.png\">üöÄ</g-emoji> Feature Proposal</h2>\n\n<p>add ability to run tests related to last commit<br>\nso a CLI flag and a new option here:</p>\n<pre><code>Watch Usage\n ‚Ä∫ Press a to run all tests.\n ‚Ä∫ Press f to run only failed tests.\n ‚Ä∫ Press p to filter by a filename regex pattern.\n ‚Ä∫ Press t to filter by a test name regex pattern.\n ‚Ä∫ Press q to quit watch mode.\n ‚Ä∫ Press Enter to trigger a test run.\n</code></pre>\n<p><code>Press l to run files changed in last commit</code></p>\n<h2>Motivation</h2>\n<p>Because I often want to test something after it has been commited. Usually I test stuff before commit, but there are valid usecases where you want to retest last commit. Like for example when cherry picking a change from another branch.</p>\n<h2>Example</h2>\n<p>When my last commit was a change in file <code>a.js</code> and I run for changed files in last commit, it runs <code>a.spec.js</code></p>\n<h2>Pitch</h2>\n<p>Why does this feature belong in the <a href=\"https://www.youtube.com/watch?v=NtjyeojAOBs\" rel=\"nofollow\">Jest core platform</a>?<br>\nbecause it's hard to achieve otherwise</p>\n<p>Common feature proposals that do not typically make it to core:</p>\n<ul>\n<li>New matchers (see <a href=\"https://github.com/jest-community/jest-extended\">jest-extended</a>)</li>\n<li>Changes to the default reporter (use custom reporters instead)</li>\n<li>Changes to node/jsdom test environments (use custom environments instead)</li>\n</ul>","createdAt":"2020-11-12T17:20:41Z","number":10811,"state":"CLOSED","title":"add ability to run tests related to last commit","url":"https://github.com/facebook/jest/issues/10811","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"capaj","avatarUrl":"https://avatars1.githubusercontent.com/u/1305378?u=96aee181b9e4934dd321710c4a1ad3070f065eec&v=4","url":"https://github.com/capaj","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLDiKLg==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"\n<h2><g-emoji class=\"g-emoji\" alias=\"bug\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png\">üêõ</g-emoji> Bug Report</h2>\n\n<p>With <code>coverageProvider: 'v8'</code> and coverage enabled, Jest crashes with imported but non-elided type-only modules.</p>\n<h2>To Reproduce</h2>\n<p>Steps to reproduce the behavior:</p>\n<ul>\n<li><code>jest.config.mjs</code>:\n<div class=\"highlight highlight-source-js\"><pre><span class=\"pl-k\">export</span> <span class=\"pl-k\">default</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-c1\">collectCoverage</span>: <span class=\"pl-c1\">true</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">coverageProvider</span>: <span class=\"pl-s\">'v8'</span><span class=\"pl-kos\">,</span>\n  <span class=\"pl-c1\">rootDir</span>: <span class=\"pl-s\">'src'</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li><code>babel.config.json</code>\n<div class=\"highlight highlight-source-json\"><pre>{\n  <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>presets<span class=\"pl-pds\">\"</span></span>: [\n    <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>@babel/typescript<span class=\"pl-pds\">\"</span></span>\n  ]\n}</pre></div>\n</li>\n<li><code>src/types.ts</code>:\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">export</span> <span class=\"pl-k\">interface</span> <span class=\"pl-smi\">obj</span> <span class=\"pl-kos\">{</span><span class=\"pl-kos\">}</span></pre></div>\n</li>\n<li><code>src/mytest.test.ts</code>:\n<div class=\"highlight highlight-source-ts\"><pre><span class=\"pl-k\">import</span> * <span class=\"pl-k\">as</span> <span class=\"pl-s1\">types</span> <span class=\"pl-k\">from</span> <span class=\"pl-s\">'./types'</span><span class=\"pl-kos\">;</span>\n\n<span class=\"pl-en\">test</span><span class=\"pl-kos\">(</span><span class=\"pl-s\">'1+1=2'</span><span class=\"pl-kos\">,</span> <span class=\"pl-kos\">(</span><span class=\"pl-kos\">)</span> <span class=\"pl-c1\">=&gt;</span> <span class=\"pl-kos\">{</span>\n  <span class=\"pl-smi\">console</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">log</span><span class=\"pl-kos\">(</span><span class=\"pl-s1\">types</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n  <span class=\"pl-en\">expect</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">1</span> <span class=\"pl-c1\">+</span> <span class=\"pl-c1\">1</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">.</span><span class=\"pl-en\">toBe</span><span class=\"pl-kos\">(</span><span class=\"pl-c1\">2</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span>\n<span class=\"pl-kos\">}</span><span class=\"pl-kos\">)</span><span class=\"pl-kos\">;</span></pre></div>\n</li>\n<li>Run <code>npx jest</code>\n<pre><code>PASS  src2/mytest.test.ts\n  ‚àö 1+1=2 (16 ms)\n\n  console.log\n    { default: {} }\n\n      at Object.&lt;anonymous&gt; (mytest.test.ts:4:11)\n\nTypeError: Cannot read property 'replace' of undefined\n    at V8ToIstanbul._resolveSource (D:\\repo\\node_modules\\v8-to-istanbul\\lib\\v8-to-istanbul.js:86:29)\n    at V8ToIstanbul.load (D:\\repo\\node_modules\\v8-to-istanbul\\lib\\v8-to-istanbul.js:57:26)\n    at D:\\repo\\node_modules\\@jest\\reporters\\build\\CoverageReporter.js:624:27\n    at Array.map (&lt;anonymous&gt;)\n    at CoverageReporter._getCoverageResult (D:\\repo\\node_modules\\@jest\\reporters\\build\\CoverageReporter.js:587:32)\n    at CoverageReporter.onRunComplete (D:\\repo\\node_modules\\@jest\\reporters\\build\\CoverageReporter.js:231:45)\n    at ReporterDispatcher.onRunComplete (D:\\repo\\node_modules\\@jest\\core\\build\\ReporterDispatcher.js:88:9)\n    at TestScheduler.scheduleTests (D:\\repo\\node_modules\\@jest\\core\\build\\TestScheduler.js:350:5)\n    at runJest (D:\\repo\\node_modules\\@jest\\core\\build\\runJest.js:376:19)\n    at _run10000 (D:\\repo\\node_modules\\@jest\\core\\build\\cli\\index.js:416:7)\n</code></pre>\n</li>\n</ul>\n<h2>Expected behavior</h2>\n\n<p>Jest doesn't crash, and coverage works.</p>\n<h2>Link to repl or repo (highly encouraged)</h2>\n\n<h2>envinfo</h2>\n\n<pre><code>  System:\n    OS: Windows 10 10.0.19042\n    CPU: (64) x64 AMD Ryzen Threadripper 3970X 32-Core Processor\n  Binaries:\n    Node: 15.2.0 - C:\\Program Files\\nodejs\\node.EXE\n    npm: 7.0.8 - C:\\Program Files\\nodejs\\npm.CMD\n  npmPackages:\n    jest: ^26.6.3 =&gt; 26.6.3\n</code></pre>","createdAt":"2020-11-12T20:22:26Z","number":10812,"state":"OPEN","title":"v8 coverage crashes with type-only files","url":"https://github.com/facebook/jest/issues/10812","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"nstepien","avatarUrl":"https://avatars2.githubusercontent.com/u/567105?u=57c3a36bf41f26ab5b3cbe22982932256e40c7d6&v=4","url":"https://github.com/nstepien","__typename":"User"}}},{"cursor":"Y3Vyc29yOnYyOpHOLDiZ_w==","node":{"__typename":"Issue","authorAssociation":"NONE","bodyHTML":"\n<h2><g-emoji class=\"g-emoji\" alias=\"speech_balloon\" fallback-src=\"https://github.githubassets.com/images/icons/emoji/unicode/1f4ac.png\">üí¨</g-emoji> Questions and Help</h2>\n<p>How can I mock a component from a federated module using the latest version of webpack (5.4.0 today)?</p>\n<p>I'm having this issue <a class=\"issue-link js-issue-link\" data-error-text=\"Failed to load title\" data-id=\"741902585\" data-permission-text=\"Title is private\" data-url=\"https://github.com/webpack/webpack/issues/11982\" data-hovercard-type=\"issue\" data-hovercard-url=\"/webpack/webpack/issues/11982/hovercard\" href=\"https://github.com/webpack/webpack/issues/11982\">webpack/webpack#11982</a></p>\n<h3>Please note that this issue tracker is not a help forum and this issue will be closed.</h3>\n<p>For questions or help please see:</p>\n<ul>\n<li><a href=\"https://jestjs.io/en/help.html\" rel=\"nofollow\">The Jest help page</a></li>\n<li><a href=\"https://www.reactiflux.com/\" rel=\"nofollow\">Our <code>#testing</code> channel in Reactiflux</a></li>\n<li>The <a href=\"https://stackoverflow.com/questions/tagged/jestjs\" rel=\"nofollow\">jestjs</a> tag on <a href=\"https://stackoverflow.com/questions/ask\" rel=\"nofollow\">StackOverflow</a></li>\n</ul>","createdAt":"2020-11-12T20:28:55Z","number":10813,"state":"CLOSED","title":"Unit testing Jest with Webpack 5 not finding federated module","url":"https://github.com/facebook/jest/issues/10813","comments":{"totalCount":1},"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":0}},{"content":"THUMBS_DOWN","users":{"totalCount":0}},{"content":"LAUGH","users":{"totalCount":0}},{"content":"HOORAY","users":{"totalCount":0}},{"content":"CONFUSED","users":{"totalCount":0}},{"content":"HEART","users":{"totalCount":0}},{"content":"ROCKET","users":{"totalCount":0}},{"content":"EYES","users":{"totalCount":0}}],"author":{"login":"testacode","avatarUrl":"https://avatars3.githubusercontent.com/u/1852080?u=a09eab1c4264c3722b207c5a19067494b7f55ddf&v=4","url":"https://github.com/testacode","__typename":"User"}}}]}}}